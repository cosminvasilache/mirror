<!doctype html><html lang="en"><head><title>Webcam Mirror</title><script type="module" crossorigin>const t=document.querySelector("video"),s=document.querySelector("#start"),a=document.querySelector("#stop");s.addEventListener("click",async()=>{await o(t),n()});a.addEventListener("click",()=>{l(t),n()});const r=()=>!!(t.srcObject instanceof MediaStream&&t.srcObject.active),n=()=>{if(r()){s.style.display="none",a.style.display="initial";return}s.style.display="initial",a.style.display="none"},d=async()=>(await navigator.mediaDevices.enumerateDevices()).filter(i=>i.kind==="videoinput"),o=async e=>{if(e.srcObject instanceof MediaStream&&e.srcObject.active)return;const c=await navigator.mediaDevices.getUserMedia({video:!0});e.srcObject=c},l=e=>{e.srcObject instanceof MediaStream&&(e.srcObject.getTracks().forEach(i=>{i.stop()}),e.srcObject=null)},v=async()=>{await o(t),n();const e=await d();console.log(e)};v();</script><style rel="stylesheet" crossorigin>*{padding:0;margin:0}:root{background:#333}body{height:100vh}video{position:absolute;width:100%;height:100%;object-fit:contain;display:flex}.controls{position:absolute;left:50%;transform:translate(-50%);bottom:1rem;opacity:.1;font-size:2rem;background-color:#cccc;padding:.5em;border:2px solid black;border-radius:.3em}.controls:hover{opacity:1}button{font-size:inherit;color:#fff;background-color:#000;padding:.5em;border:none;border-radius:.3em}</style></head><body><video autoplay muted></video><div class="controls"><button id="start">START</button> <button id="stop">STOP</button></div></body></html>